<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Sky Burger</title>
	
	<link href='http://fonts.googleapis.com/css?family=Rock+Salt' rel='stylesheet' type='text/css'>
	<link href="css/style.css" rel="stylesheet" type="text/css" />

	<!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->

	<script src="js/libs/jquery-1.7.1.min.js"></script>
  
	<script src="http://code.createjs.com/easeljs-0.4.2.min.js"></script>
	<script src="http://code.createjs.com/tweenjs-0.2.0.min.js"></script>
	<script src="http://code.createjs.com/soundjs-0.2.0.min.js"></script>
	<script src="http://code.createjs.com/preloadjs-0.1.0.min.js"></script>
	<script src="http://code.createjs.com/movieclip-0.4.1.min.js"></script>
	
	<script type="text/javascript" src="js/Ingredient.js"></script>
	<script type="text/javascript" src="js/IngredientFactory.js"></script>
	<script type="text/javascript" src="js/Level.js"></script>

	<script type="text/javascript" src="js/Controller.js"></script>
	<script type="text/javascript" src="js/State.js"></script>
	<script type="text/javascript" src="js/PreloadState.js"></script>
	<script type="text/javascript" src="js/MenuState.js"></script>
	<script type="text/javascript" src="js/GameOverState.js"></script>
	<script type="text/javascript" src="js/InGameState.js"></script>
	<script type="text/javascript" src="js/Utils.js"></script>
	<script type="text/javascript" src="js/OrderSummary.js"></script>
	<script type="text/javascript" src="js/inGameUI.js"></script>
	<script type="text/javascript" src="js/GameIntroState.js"></script>
	<script>
	
	var canvas;
	var stage;
	var factory;
	var controller;
 	
	var KEYCODE_LEFT = 37;		//usefull keycode
	var KEYCODE_RIGHT = 39;		//usefull keycode
	
	var lfHeld;
	var rtHeld;

	var BOUND_LEFT;
	var BOUND_RIGHT; 

	var assets;
	var sky;
	
	function init() {
	
		canvas = document.getElementById("mainCanvas");
		BOUND_LEFT = 200 
		BOUND_RIGHT = canvas.width - 200
	
		// create a stage object to work with the canvas. This is the top level node in the display list:
		stage = new Stage(canvas);
		factory = new IngredientFactory();
		controller = new Controller(stage, canvas);

		SM.RegisterState( "preload", PreloadState )
		SM.RegisterState( "ingame", InGameState );
		SM.RegisterState( "menu", MenuState );
		SM.RegisterState( "gameover", GameOverState );
		SM.RegisterState( "gameIntro", GameIntroState);
		SM.SetStateByName( "preload" );
	}
	
	

	</script>
</head>
	
<body onload="init();">

	<header id="header" class="EaselJS">
	</header>
	<div id="goal">
	</div>
	
	
	<div id="canvasHolder">
		<canvas id="mainCanvas" width="980" height="620"></canvas>
			<div id="inGameMenu">
				<div id="inGameMenu-leftMask"></div>
				<div id="inGameMenu-orderName"></div>
				<ul id="inGameMenu-order">
					<li id="breadTop"><img src="img/burger/top.png" /></li>
					<li id="onion"><img src="img/burger/onion.png" /><span id="onionNum">0</span></li>
					<li id="cheese"><img src="img/burger/cheese.png" /><span id="cheeseNum">0</span></li>
					<li id="lettuce"><img src="img/burger/lettuce.png" /><span id="lettuceNum">0</span></li>
					<li id="egg"><img src="img/burger/egg.png" /><span id="eggNum">0</span></li>
					<li id="meat"><img src="img/burger/meat.png" /><span id="meatNum">0</span></li>
					<li id="tomato"><img src="img/burger/tomato.png" /><span id="tomatoNum">0</li>
					<li id="breadBottom"><img src="img/burger/bottom.png" /></li>

				</ul>
				<hr />
				<div id="inGameMenu-Summary">
				<p id="total">$ 0</p>
				<p id="tip">Tip: 0%</p>
				</div>
				<a style="position:relative" id="inGameMenu-replay" onclick="controller.restartGame();">Replay</a>
			</div><!--inGameMenu-->

			<div id="failDialog">
				<p id="orderFail" class="textGradientFail">Order Fail</p>
				<p id="orderFailContinue">Tap to continue</p>
			</div><!--failDialog-->
			
			<div id="successDialog">
				<p class="orderName">Order #<span id="successOrderNum">1</span> <span id="successOrderName">Seemeloo Burger</span></p>
				<ul id="successSammary">
					<a id="testButton">Start Game</a>
					<a id="testButton2">Back</a>

				</ul>
			</div>
	</div><!--canvasHolder-->
	


</body>
</html>
